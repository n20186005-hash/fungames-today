<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game News - Fun Games Today</title>
    <style>
        /* ====================
           1. å…¨å±€ä¸ä¾§è¾¹æ æ ·å¼
           ==================== */
        :root { --bg-color: #1a1a1a; --sidebar-bg: #2d2d2d; --text-color: #ffffff; --text-muted: #aaaaaa; --accent-color: #00d2ff; --card-bg: #333333; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg-color); color: var(--text-color); display: flex; min-height: 100vh; }
        
        .sidebar { width: 240px; background-color: var(--sidebar-bg); padding: 20px; display: flex; flex-direction: column; position: fixed; height: 100%; left: 0; top: 0; overflow-y: auto; z-index: 100; box-shadow: 2px 0 10px rgba(0,0,0,0.3); }
        .logo { font-size: 24px; font-weight: bold; color: var(--accent-color); margin-bottom: 30px; text-decoration: none; display: block; }
        .menu-group { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #444; }
        .menu-group:last-child { border-bottom: none; }
        .menu-title { font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 10px; padding-left: 12px; }
        .menu-item { display: flex; align-items: center; gap: 10px; color: var(--text-muted); text-decoration: none; padding: 10px 12px; margin-bottom: 5px; border-radius: 8px; transition: 0.2s; font-weight: 500; font-size: 14px; }
        .menu-item:hover, .menu-item.active { background-color: rgba(0, 210, 255, 0.1); color: var(--accent-color); }
        .lang-select { margin-top: auto; padding: 10px; background: #333; color: white; border: 1px solid #555; border-radius: 5px; width: 100%; cursor: pointer; }
        
        /* ====================
           2. æ–°é—»é¡µä¸“ç”¨æ ·å¼
           ==================== */
        .main-content { margin-left: 240px; padding: 60px 80px; width: 100%; max-width: 800px; }
        .back-btn { display: inline-block; margin-bottom: 30px; color: #888; text-decoration: none; font-size: 14px; }
        .back-btn:hover { color: var(--accent-color); }
        
        h1 { color: var(--accent-color); border-bottom: 3px solid var(--accent-color); padding-bottom: 15px; margin-bottom: 40px; display: inline-block; }

        .platform-intro {
            background: linear-gradient(135deg, #2d2d2d, #222);
            border-left: 5px solid var(--accent-color);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .platform-intro h2 { margin-top: 0; color: #fff; font-size: 22px; }
        .platform-intro p { color: #ccc; line-height: 1.6; }

        .news-item {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px dashed #444; 
            animation: fadeInItem 0.5s ease-in-out;
        }
        
        .news-item.hidden { display: none; }

        .news-meta { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; font-size: 13px; }
        .news-date { background: #333; padding: 4px 8px; border-radius: 4px; color: #fff; border: 1px solid #555; }
        .news-tag { color: var(--accent-color); font-weight: bold; text-transform: uppercase; }
        
        .news-title { margin: 0 0 15px 0; color: #fff; font-size: 22px; line-height: 1.3; }
        .news-title a { color: #fff; text-decoration: none; transition: 0.2s; }
        .news-title a:hover { color: var(--accent-color); }

        .news-desc { color: #ccc; line-height: 1.7; margin: 0; font-size: 15px; }
        
        /* æ¥æºæ ·å¼ */
        .news-source { 
            display: inline-block; 
            margin-top: 15px; 
            font-size: 13px; 
            color: #888; 
            font-style: italic; 
            background: rgba(255,255,255,0.05);
            padding: 4px 10px;
            border-radius: 4px;
        }

        .load-more-btn {
            display: none; /* é»˜è®¤éšè—ï¼Œæœ‰æ•°æ®æ‰æ˜¾ç¤º */
            width: 100%;
            padding: 15px;
            background: #333;
            color: #fff;
            text-align: center;
            border: 1px solid #555;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 40px;
            transition: 0.2s;
            font-weight: bold;
        }
        .load-more-btn:hover { background: var(--accent-color); color: #000; border-color: var(--accent-color); }
        
        .lang-content { display: none; }
        .lang-content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInItem { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) { .sidebar { display: none; } .main-content { margin-left: 0; padding: 30px; } }
    </style>
</head>
<body>

    <div class="sidebar">
        <a href="index.html" class="logo">ğŸ® FunGames</a>
        <div class="menu-group">
            <div class="menu-title" data-i18n="group_explore">Explore</div>
            <a href="index.html" class="menu-item" data-i18n="nav_home">ğŸ  Home</a>
            <a href="index.html#new-updates" class="menu-item" data-i18n="nav_new">ğŸ†• New Games</a>
            <a href="index.html#game-list" class="menu-item" data-i18n="nav_hot">ğŸ”¥ Hot Games</a>
            <a href="index.html#game-list" class="menu-item" data-i18n="nav_recent">ğŸ•¹ï¸ Recently Played</a>
            <a href="index.html#game-list" class="menu-item" data-i18n="nav_rec">ğŸ‘ Recommended</a>
        </div>
        <div class="menu-group">
            <div class="menu-title" data-i18n="group_about">About</div>
            <a href="news.html" class="menu-item active" data-i18n="link_news">ğŸ“° Game News</a>
            <a href="privacy.html" class="menu-item" data-i18n="link_privacy">ğŸ”’ Privacy Policy</a>
            <a href="cookies.html" class="menu-item" data-i18n="link_cookies">ğŸª Cookie Policy</a>
            <a href="terms.html" class="menu-item" data-i18n="link_terms">ğŸ“œ Terms of Use</a>
            <a href="contact.html" class="menu-item" data-i18n="link_contact">ğŸ“© Contact Us</a>
        </div>
        <div style="margin-top: auto;">
            <div class="menu-title" data-i18n="label_lang">Language</div>
            <select class="lang-select" id="langSelector" onchange="switchLanguage(this.value)">
                <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                <option value="zh">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</option>
                <option value="jp">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                <option value="kr">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
            </select>
        </div>
    </div>

    <div class="main-content">
        <a href="index.html" class="back-btn" data-i18n="btn_back">â† Back Home</a>

        <div class="lang-content en active">
            <h1>Game News</h1>
            <div class="platform-intro">
                <h2>Latest Updates</h2>
                <p>Stay tuned with the latest game releases, industry news, and platform updates.</p>
            </div>
            <div class="news-list" id="news-list-en">
                <p style="color:#666;">Loading latest news...</p>
            </div>
            <button class="load-more-btn" onclick="loadMore('en')">â–¼ View More News</button>
        </div>

        <div class="lang-content zh">
            <h1>æ¸¸æˆèµ„è®¯</h1>
            <div class="platform-intro">
                <h2>æœ€æ–°åŠ¨æ€</h2>
                <p>å…³æ³¨å…¨çƒæœ€æ–°æ¸¸æˆå‘å”®ã€è¡Œä¸šèµ„è®¯åŠå¹³å°æ›´æ–°ã€‚</p>
            </div>
            <div class="news-list" id="news-list-zh">
                <p style="color:#666;">æ­£åœ¨åŠ è½½æœ€æ–°èµ„è®¯...</p>
            </div>
            <button class="load-more-btn" onclick="loadMore('zh')">â–¼ åŠ è½½æ›´å¤šå†å²æ–°é—»</button>
        </div>
        
        <div class="lang-content jp"><h1>News</h1><p>Running in English mode...</p></div>
        <div class="lang-content kr"><h1>News</h1><p>Running in English mode...</p></div>

    </div>

    <script>
        const ITEMS_PER_PAGE = 5; 
        let cachedNews = []; // ç¼“å­˜æ–°é—»æ•°æ®

        // 1. è·å–æ–°é—»æ•°æ® (æ ¸å¿ƒåŠŸèƒ½)
        function fetchNews() {
            fetch('data/news.json')
                .then(response => response.json())
                .then(data => {
                    cachedNews = data; // ä¿å­˜æ•°æ®
                    renderNews('en', data); // æ¸²æŸ“è‹±æ–‡ç‰ˆ
                    renderNews('zh', data); // æ¸²æŸ“ä¸­æ–‡ç‰ˆ (ç›®å‰ä½¿ç”¨è‹±æ–‡æ•°æ®æº)
                })
                .catch(err => {
                    console.log('Error loading news:', err);
                    document.getElementById('news-list-en').innerHTML = '<p>No news available yet. (Waiting for daily update...)</p>';
                    document.getElementById('news-list-zh').innerHTML = '<p>æš‚æ— æ–°é—»æ•°æ® (ç­‰å¾…æ¯æ—¥è‡ªåŠ¨æ›´æ–°...)</p>';
                });
        }

        // 2. æ¸²æŸ“æ–°é—»åˆ°é¡µé¢
        function renderNews(lang, newsList) {
            const container = document.getElementById(`news-list-${lang}`);
            if (!container) return;

            container.innerHTML = ''; // æ¸…ç©ºåŠ è½½æ–‡å­—

            if (!newsList || newsList.length === 0) {
                container.innerHTML = '<p>No news found.</p>';
                return;
            }

            newsList.forEach(item => {
                const newsHtml = `
                    <div class="news-item">
                        <div class="news-meta">
                            <span class="news-date">${item.date}</span>
                            <span class="news-tag">${item.tag || 'News'}</span>
                        </div>
                        <h3 class="news-title">
                            <a href="${item.link}" target="_blank">${item.title}</a>
                        </h3>
                        <p class="news-desc">${item.desc}</p>
                        <span class="news-source">Source: ${item.source}</span>
                    </div>
                `;
                container.innerHTML += newsHtml;
            });

            // æ¸²æŸ“å®Œååˆå§‹åŒ–åˆ†é¡µ
            initNewsList(lang);
        }
        
        // 3. åˆ†é¡µé€»è¾‘ (ä¿æŒåŸæ ·)
        function initNewsList(lang) {
            const container = document.getElementById(`news-list-${lang}`);
            if (!container) return;
            
            const items = container.querySelectorAll('.news-item');
            const btn = container.parentElement.querySelector('.load-more-btn');

            items.forEach((item, index) => {
                if (index >= ITEMS_PER_PAGE) {
                    item.classList.add('hidden');
                } else {
                    item.classList.remove('hidden');
                }
            });

            if (items.length <= ITEMS_PER_PAGE) {
                if(btn) btn.style.display = 'none';
            } else {
                if(btn) btn.style.display = 'block';
                if(btn) btn.innerText = lang === 'zh' ? 'â–¼ åŠ è½½æ›´å¤šå†å²æ–°é—»' : 'â–¼ View More News';
            }
        }

        function loadMore(lang) {
            const container = document.getElementById(`news-list-${lang}`);
            const hiddenItems = container.querySelectorAll('.news-item.hidden');
            const btn = container.parentElement.querySelector('.load-more-btn');

            let count = 0;
            hiddenItems.forEach(item => {
                if (count < ITEMS_PER_PAGE) {
                    item.classList.remove('hidden');
                    count++;
                }
            });

            if (container.querySelectorAll('.news-item.hidden').length === 0) {
                btn.style.display = 'none';
            }
        }

        // 4. å¤šè¯­è¨€åˆ‡æ¢
        const uiTranslations = {
            zh: { group_explore: "æ¢ç´¢", nav_home: "ğŸ  ä¸»é¡µ", nav_new: "ğŸ†• æ–°æ¸¸æˆ", nav_hot: "ğŸ”¥ çƒ­é—¨æ¸¸æˆ", nav_recent: "ğŸ•¹ï¸ æœ€è¿‘ç©è¿‡", nav_rec: "ğŸ‘ æ¨èæ¸¸æˆ", group_about: "å…³äº", link_news: "ğŸ“° æ¸¸æˆèµ„è®¯", link_privacy: "ğŸ”’ éšç§æ”¿ç­–", link_cookies: "ğŸª Cookie æ”¿ç­–", link_terms: "ğŸ“œ ä½¿ç”¨æ¡æ¬¾", link_contact: "ğŸ“© è”ç³»æˆ‘ä»¬", label_lang: "è¯­è¨€ / Language", btn_back: "â† è¿”å›é¦–é¡µ" },
            en: { group_explore: "Explore", nav_home: "ğŸ  Home", nav_new: "ğŸ†• New Games", nav_hot: "ğŸ”¥ Hot Games", nav_recent: "ğŸ•¹ï¸ Recently Played", nav_rec: "ğŸ‘ Recommended", group_about: "About", link_news: "ğŸ“° Game News", link_privacy: "ğŸ”’ Privacy Policy", link_cookies: "ğŸª Cookie Policy", link_terms: "ğŸ“œ Terms of Use", link_contact: "ğŸ“© Contact Us", label_lang: "Language", btn_back: "â† Back Home" },
            jp: { group_explore: "æ¢ç´¢", nav_home: "ğŸ  ãƒ›ãƒ¼ãƒ ", nav_new: "ğŸ†• æ–°ä½œ", nav_hot: "ğŸ”¥ äººæ°—", nav_recent: "ğŸ•¹ï¸ å±¥æ­´", nav_rec: "ğŸ‘ ãŠã™ã™ã‚", group_about: "æƒ…å ±", link_news: "ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹", link_privacy: "ğŸ”’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼", link_cookies: "ğŸª Cookie", link_terms: "ğŸ“œ è¦ç´„", link_contact: "ğŸ“© é€£çµ¡å…ˆ", label_lang: "è¨€èª", btn_back: "â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹" },
            kr: { group_explore: "íƒêµ¬", nav_home: "ğŸ  í™ˆ", nav_new: "ğŸ†• ì‹ ê·œ", nav_hot: "ğŸ”¥ ì¸ê¸°", nav_recent: "ğŸ•¹ï¸ ìµœê·¼", nav_rec: "ğŸ‘ ì¶”ì²œ", group_about: "ì •ë³´", link_news: "ğŸ“° ë‰´ìŠ¤", link_privacy: "ğŸ”’ ê°œì¸ì •ë³´", link_cookies: "ğŸª ì¿ í‚¤", link_terms: "ğŸ“œ ì•½ê´€", link_contact: "ğŸ“© ë¬¸ì˜", label_lang: "ì–¸ì–´", btn_back: "â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°" }
        };

        function switchLanguage(lang) {
            localStorage.setItem('preferred_lang', lang);
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (uiTranslations[lang] && uiTranslations[lang][key]) el.innerText = uiTranslations[lang][key];
            });

            document.querySelectorAll('.lang-content').forEach(el => el.classList.remove('active'));
            const target = document.querySelector(`.lang-content.${lang}`);
            if(target) {
                target.classList.add('active');
            } else {
                document.querySelector('.lang-content.en').classList.add('active'); 
            }
            
            document.getElementById('langSelector').value = lang;
            // åˆ‡æ¢è¯­è¨€æ—¶ï¼Œé‡æ–°åˆå§‹åŒ–åˆ†é¡µçŠ¶æ€
            initNewsList(lang);
        }

        window.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('preferred_lang') || 'en';
            switchLanguage(savedLang);
            
            // é¡µé¢åŠ è½½æ—¶æŠ“å–æ–°é—»
            fetchNews();
        });
    </script>
</body>
</html>
   
